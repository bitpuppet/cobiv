#:import win kivy.core.window
#:import math math

<Browser>:
    page_rows: self.height/self.cell_size
    max_rows: self.height*self.max_scroll_ratio/self.cell_size
    max_items_cache: self.max_rows*3
    grid: grid_layout
    BoxLayout:
        ThumbScrollView:
            id: scroll_view
            GridLayout:
                id: grid_layout
                cell_size: root.cell_size
                cols: int(self.width/self.cell_size)
                size_hint: None,None
                width: win.Window.width
                height: int(self.cell_size * math.ceil(1+len(self.children)/self.cols))