#:import win kivy.core.window
#:import math math


<EOLItem>:
    text: 'EOL'
    color: 0,0,1,1
    size_hint: None, None
    size: root.cell_size, root.cell_size
    canvas.before:
        Color:
            rgba: 0,0,1,1
        Line:
            width: 2
            rounded_rectangle: self.x+10,self.y+10,self.width-20,self.height-20,10
        Color:
            rgba: 1,0,0,1 if self.selected else 0
        Line:
            width: 2
            rectangle: self.x+2,self.y+2,self.width-4,self.height-4

<Browser>:
    page_rows: self.height/self.cell_size
    max_rows: self.height*self.max_scroll_ratio/self.cell_size
    grid: grid_layout
    max_items_cache: self.max_rows * 3
    BoxLayout:
        ThumbScrollView:
            id: scroll_view
            GridLayout:
                id: grid_layout
                cell_size: root.cell_size
                cols: int(self.width/self.cell_size)
                size_hint: None,None
                width: win.Window.width
                height: int(self.cell_size * math.ceil(len(self.children)/float(self.cols)))